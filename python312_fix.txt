# Python 3.12 - Naprawa bÅ‚Ä™du "No module named 'distutils'"

## ğŸ Problem

W **Python 3.12** moduÅ‚ `distutils` zostaÅ‚ usuniÄ™ty z biblioteki standardowej, co powoduje bÅ‚Ä™dy podczas instalacji pakietÃ³w:

```
ModuleNotFoundError: No module named 'distutils'
```

## âœ… RozwiÄ…zania (wybierz jedno)

### **Opcja 1: Automatyczna naprawa (REKOMENDOWANA)**

```bash
# Uruchom nasz skrypt naprawy
chmod +x setup.sh
./setup.sh
```

### **Opcja 2: RÄ™czna naprawa krok po kroku**

```bash
# 1. Upgrade pip i setuptools
python3 -m pip install --upgrade pip

# 2. Zainstaluj setuptools z obsÅ‚ugÄ… distutils  
python3 -m pip install --upgrade "setuptools>=68.0.0" wheel

# 3. Zainstaluj zaleÅ¼noÅ›ci po kolei
python3 -m pip install fastapi==0.104.1
python3 -m pip install uvicorn[standard]==0.24.0
python3 -m pip install jinja2==3.1.2
python3 -m pip install python-multipart==0.0.6
python3 -m pip install pandas==2.1.3
python3 -m pip install numpy==1.25.2
python3 -m pip install lxml==4.9.3
python3 -m pip install paramiko==3.3.1
python3 -m pip install requests==2.31.0
python3 -m pip install urllib3==2.0.7
python3 -m pip install pydantic==2.5.0
python3 -m pip install py7zr==0.20.6
python3 -m pip install aiofiles==23.2.1
python3 -m pip install python-dotenv==1.0.0
```

### **Opcja 3: Åšrodowisko wirtualne (izolacja)**

```bash
# UtwÃ³rz nowe venv
python3 -m venv ncpyvisual_env
source ncpyvisual_env/bin/activate  # Linux/Mac
# ncpyvisual_env\Scripts\activate     # Windows

# Upgrade podstawowych narzÄ™dzi
pip install --upgrade pip setuptools wheel

# Instaluj zaleÅ¼noÅ›ci
pip install -r requirements.txt
```

### **Opcja 4: System package manager**

```bash
# Ubuntu/Debian
sudo apt update
sudo apt install python3-setuptools python3-wheel python3-pip

# CentOS/RHEL/Fedora  
sudo dnf install python3-setuptools python3-wheel python3-pip
# lub: sudo yum install python3-setuptools python3-wheel python3-pip

# Po instalacji systemowich pakietÃ³w:
pip3 install -r requirements.txt
```

## ğŸ§ª Test naprawy

```bash
# SprawdÅº czy problem zostaÅ‚ rozwiÄ…zany
python3 -c "
try:
    import setuptools
    import fastapi
    import uvicorn
    print('âœ… Python 3.12 fix dziaÅ‚a!')
except ImportError as e:
    print(f'âŒ Nadal bÅ‚Ä…d: {e}')
"
```

## âš¡ Szybka diagnoza

```bash
# SprawdÅº wersjÄ™ Python
python3 --version

# SprawdÅº czy setuptools jest zainstalowany
python3 -c "import setuptools; print(f'setuptools: {setuptools.__version__}')"

# Lista zainstalowanych pakietÃ³w
pip3 list | grep -E "(setuptools|wheel|fastapi)"
```

## ğŸ”§ Alternatywne rozwiÄ…zania

### **JeÅ›li nadal masz problemy:**

```bash
# 1. WyczyÅ›Ä‡ cache pip
pip3 cache purge

# 2. Force reinstall setuptools
pip3 uninstall -y setuptools wheel
pip3 install --no-cache-dir setuptools wheel

# 3. UÅ¼yj --user jeÅ›li masz problemy z uprawnieniami
pip3 install --user setuptools wheel

# 4. SprawdÅº czy masz konflikt wersji
pip3 check
```

### **Emergency workaround (dla deweloperÃ³w):**

```bash
# JeÅ›li nic nie dziaÅ‚a, moÅ¼na tymczasowo zainstalowaÄ‡ distutils
pip3 install setuptools-distutils

# LUB uÅ¼yÄ‡ starszego Python
python3.11 -m venv old_python_env
source old_python_env/bin/activate
pip install -r requirements.txt
```

## ğŸ“š TÅ‚o techniczne

### **Co siÄ™ staÅ‚o:**
- Python 3.12 usunÄ…Å‚ `distutils` z biblioteki standardowej
- Wiele pakietÃ³w nadal prÃ³buje importowaÄ‡ `distutils` 
- `setuptools` musi zapewniÄ‡ kompatybilnoÅ›Ä‡ wstecznÄ…

### **Dlaczego nasze rozwiÄ…zanie dziaÅ‚a:**
1. **setuptools >= 68.0.0** zawiera `distutils` compatibility layer
2. **wheel** zapewnia nowoczesny build system
3. **KolejnoÅ›Ä‡ instalacji** unika konfliktÃ³w zaleÅ¼noÅ›ci

## ğŸš€ Po naprawie

```bash
# Uruchom aplikacjÄ™
./start.sh

# LUB rÄ™cznie:
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

## ğŸ“ Pomoc

JeÅ›li nadal masz problemy:

1. **SprawdÅº logi**: `python3 -m pip install -v setuptools`
2. **UÅ¼yj naszego setup.sh**: `./setup.sh`
3. **SprÃ³buj venv**: izolowane Å›rodowisko
4. **Downgrade Python**: do 3.11 jako ostatecznoÅ›Ä‡

---
**ğŸ’¡ Tip**: Problem dotyczy tylko Python 3.12+. Starsze wersje dziaÅ‚ajÄ… normalnie.
